<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Try out the UV package manager</title>
    <link rel="stylesheet" href="/theme/css/style.css">
</head>
<body>
    <header class="christmas-header">
        <nav>
            <ul>
                <li><a href="/">Home</a></li>
            </ul>
        </nav>
    </header>

    <main>
<article>
    <h1>Try out the UV package manager</h1>
    <p>
        <small class="published-info">
            Published on December 24, 2024 
 | Category: articles        </small>
    </p>
    <hr>
    <div>
        <h1>First Steps with UV</h1>
<p>I've heard about the new package manager called <a href="https://docs.astral.sh/uv/">UV</a>. It's supposed to be faster than other package managers. I was interested to see what it can do.<br>
Installation is easy. Just run the following command:</p>
<div class="highlight"><pre><span></span><code>brew<span class="w"> </span>install<span class="w"> </span>uv
</code></pre></div>

<h1>Converting an existing project</h1>
<p>I converted a project that uses an external library to get to know UV better.<br>
There is nothin fancy in the used project. It's just a simple project that uses the <strong>typer</strong> library to create a CLI.<br>
UV comes with a dependency manager that is similar to pip. Which makes it easy to install new dependencies.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Initialize a new project</span>
uv<span class="w"> </span>init

<span class="c1"># Install the typer library</span>
uv<span class="w"> </span>install<span class="w"> </span>typer
</code></pre></div>

<h1>Project Structure after running uv init</h1>
<div class="highlight"><pre><span></span><code><span class="p">.</span>
<span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">pyproject</span><span class="p">.</span><span class="n">toml</span>
<span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">src</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">__init__</span><span class="p">.</span><span class="n">py</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">FileClass</span><span class="p">.</span><span class="n">py</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">main</span><span class="p">.</span><span class="n">py</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">regexes</span><span class="p">.</span><span class="n">py</span>
<span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">tests</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">__init__</span><span class="p">.</span><span class="n">py</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">test_main</span><span class="p">.</span><span class="n">py</span>
<span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="p">.</span><span class="n">python</span><span class="o">-</span><span class="n">version</span>
<span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">uv</span><span class="p">.</span><span class="n">lock</span>
</code></pre></div>

<p>The created files are:</p>
<ul>
<li><strong>pyproject.toml</strong>: The configuration file for the project</li>
<li><strong>.python-version</strong>: The python version that should be used</li>
<li><strong>uv.lock</strong>: The lock file that contains the installed dependencies</li>
</ul>
<h1>Cool things that come with UV</h1>
<p>If you ever worked in a team that sees python only as a glue language you know the struggle with the python version and the installed dependencies.  </p>
<ul>
<li><strong>uv tree</strong> a command that shows the dependencies of the project</li>
<li><strong>uv run</strong> a command that runs the project in a dedicated virtual environment</li>
<li><strong>uv add</strong> a command that adds a new dependency to the project</li>
</ul>
<p>There are many more commands that come with UV. I will try them out in the next days.</p>
<h1>Running the project</h1>
<div class="highlight"><pre><span></span><code>uv<span class="w"> </span>tree

Resolved<span class="w"> </span><span class="m">10</span><span class="w"> </span>packages<span class="w"> </span><span class="k">in</span><span class="w"> </span>1ms
document-formater<span class="w"> </span>v0.1.0
â””â”€â”€<span class="w"> </span>typer<span class="w"> </span>v0.15.1
<span class="w">    </span>â”œâ”€â”€<span class="w"> </span>click<span class="w"> </span>v8.1.8
<span class="w">    </span>â”œâ”€â”€<span class="w"> </span>rich<span class="w"> </span>v13.9.4
<span class="w">    </span>â”‚<span class="w">   </span>â”œâ”€â”€<span class="w"> </span>markdown-it-py<span class="w"> </span>v3.0.0
<span class="w">    </span>â”‚<span class="w">   </span>â”‚<span class="w">   </span>â””â”€â”€<span class="w"> </span>mdurl<span class="w"> </span>v0.1.2
<span class="w">    </span>â”‚<span class="w">   </span>â””â”€â”€<span class="w"> </span>pygments<span class="w"> </span>v2.18.0
<span class="w">    </span>â”œâ”€â”€<span class="w"> </span>shellingham<span class="w"> </span>v1.5.4
<span class="w">    </span>â””â”€â”€<span class="w"> </span>typing-extensions<span class="w"> </span>v4.12.2
</code></pre></div>

<p>It shows how many dependencies just the <strong>typer</strong> library has. After I saw that it became clear why you often get into dependency hell with python projects. Especially if you work in a team that has only basic python knowledge.<br>
That's why I started to used <strong>dev-containers</strong> but that's a different topic for another day.</p>
<h2>Conclusion</h2>
<p>I like the idea of UV. It's a fast package manager that makes it easy to install dependencies. I will start using it in my projects and see how it goes.<br>
I will compare this to my dev-container setup and see if I can replace it with UV. At the moment it looks like it could be a good replacement if you don't need a database or other services.</p>
<h2>Lessons Learned</h2>
<ul>
<li>learned how to install UV</li>
<li>learned how to convert an existing project to UV</li>
<li>learned how to install dependencies with UV</li>
<li>learned how to run the project with UV</li>
<li>learned how to show the dependencies of the project with UV</li>
<li>learned how to add a new dependency to the project with UV</li>
</ul>
    </div>
</article>
    </main>

    <h3>Â©  sbg-blog | Powered by Pelican | ðŸŽ„ Happy Holidays!</h3>

    <footer>
        <a class="footer" href="/pages/legal-notice">Legal Notice</a> 
        |
        <a class="footer" href="/pages/about">About</a>
    </footer>
</body>
</html>